<html>
<head>
    <title>Main Page</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
    <style>
    </style>
</head>
<body role="document">
<nav class="navbar navbar-inverse">
    <div class="container container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand" href="#">Grocious Merchandise</a>
        </div>
        <div>
            <ul class="nav navbar-nav">
                <li class="active"><a href="#"><span class="glyphicon glyphicon-home"></span> Home</a></li>
                <li><a href="#" data-toggle="modal" data-target="#newProduct"><span class="glyphicon glyphicon-plus"></span> New Product</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="/merchant/logout/"><span class="glyphicon glyphicon-log-out"></span> Logout</a></li>
            </ul>
            <p class="navbar-text navbar-right">Signed in as <a href="#" class="navbar-link">{{ merchant }}</a></p>
        </div>
    </div>
</nav>
<div class="container">
    {% if products %}
    <table id="products" class="table table-striped table-bordered table-hover">
        <tr>
            <th>Name</th>
            <th>Quantity</th>
            <th>Unit</th>
            <th>Price</th>
            <th>Manufacturer</th>
            <th>Description</th>
            <th>URL</th>
            <th>Stock</th>
            <th>Availability</th>
            <th>Action</th>
        </tr>
        {% for p in products %}
        <tr>
            <td>{{ p.name }}</td>
            <td>{{ p.quantity }}</td>
            <td>{{ p.unit }}</td>
            <td>{{ p.price }}</td>
            <td>{{ p.manufacturer.manufacturer_name }}</td>
            <td>{{ p.desc }}</td>
            <td>{{ p.product_url }}</td>
            <td>{{ p.stock_units }}</td>
            <td>{{ p.is_available }}</td>
            <td>
                <div class="btn-group" role="group">
                    <button type="button" class="btn btn-default" aria-label="Modify">
                        <span class="glyphicon glyphicon-edit" aria-hidden="true"></span>
                    </button>
                    <button type="button" class="btn btn-default" aria-label="Delete">
                        <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                    </button>
                </div>
            </td>
        </tr>
        {% endfor %}
    </table>
    {% endif %}
    <footer class="footer">
      <div class="container">
        <p class="text-muted">Copyright Grocious</p>
      </div>
    </footer>
    <div class="modal fade" id="newProduct" tabindex="-1" role="dialog" aria-labelledby="New Product" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">New Product</h4>
                </div>
                <div class="modal-body">
                    <div class="forms">
                        <h3>Add Product</h3>
                        <form action="/merchant/pCreate/" method="POST" class="form-horizontal">{% csrf_token %}
                            <table class="table">
                                {{ productForm.as_table }}
                                <th></th><td><input type="submit" value="Add" class="btn btn-primary"/></td>
                            </table>
                        </form>
                    </div>
                    <div class="forms">
                        <h3>Add Manufacturer</h3>
                        <form action="/merchant/mCreate/" method="POST" class="form-horizontal">{% csrf_token %}
                            <table class="table">
                                {{ manufacturerForm.as_table }}
                                <th></th><td><input type="submit" value="Add" class="btn btn-primary"/></td>
                            </table>
                        </form>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
