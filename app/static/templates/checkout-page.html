<div class="col-md-8">
  <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
    <div class="panel panel-default">
      <div class="panel-heading" role="tab" id="headingOne">
        <h4 class="panel-title">
          <a role="button" data-toggle="collapse" data-parent="#accordion" href="javascript:;" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
            Shipping Info
          </a>
        </h4>
      </div>
      <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
        <div class="panel-body">
          <form class="form-horizontal" name="shippingForm" ng-submit="submitShippingForm()" novalidate>
            <fieldset>
              <!-- Form Name -->
              <!--legend></legend-->
              <!-- Text input-->
              <div class="form-group">
                <div class="col-md-6">
                  <input id="delivery-for-person-fname" name="deliveryForPersonFname" type="text"
                  placeholder="First Name" class="form-control input-md" required=""
                  ng-model="deliveryInfo.deliveryForPersonFname" ng-required="true" ng-minlength="5" ng-maxlength="15">

                  <span ng-show="shippingForm.deliveryForPersonFname.$error.minlength" class="help-block error">First name is too short.</span>
                  <span ng-show="shippingForm.deliveryForPersonFname.$error.maxlength" class="help-block error">First name is too long.</span>
                  <span ng-show="shippingForm.deliveryForPersonFname.$error.required && !shippingForm.deliveryForPersonFname.$pristine" class="help-block error">First name field is required.</span>
                </div>
              </div>

              <!-- Text input-->
              <div class="form-group">
                <div class="col-md-6">
                  <input id="delivery-for-person-lname" name="deliveryForPersonLname" type="text"
                  placeholder="Last Name" class="form-control input-md" required=""
                  ng-model="deliveryInfo.deliveryForPersonLname" ng-required="true" ng-minlength="5" ng-maxlength="15">

                  <span ng-show="shippingForm.deliveryForPersonLname.$error.minlength" class="help-block error">Last name is too short.</span>
                  <span ng-show="shippingForm.deliveryForPersonLname.$error.maxlength" class="help-block error">Last name is too long.</span>
                  <span ng-show="shippingForm.deliveryForPersonLname.$error.required && !shippingForm.deliveryForPersonLname.$pristine" class="help-block error">Last name is required.</span>
                </div>
              </div>

              <!-- Text input-->
              <div class="form-group">
                <div class="col-md-6">
                  <input id="delivery-address-line1" name="deliveryAddressLine1" ng-model="deliveryInfo.deliveryAddressLine1" ng-required="true" ng-minlength="5" ng-maxlength="30" type="text" placeholder="Shipping Address Line 1" class="form-control input-md" required="">
                  <span ng-show="shippingForm.deliveryAddressLine1.$error.minlength" class="help-block error">Address line is too short.</span>
                  <span ng-show="shippingForm.deliveryAddressLine1.$error.maxlength" class="help-block error">Address line is too long.</span>
                  <span ng-show="shippingForm.deliveryAddressLine1.$error.required && !shippingForm.deliveryAddressLine1.$pristine" class="help-block error">Field is required.</span>
                </div>
              </div>

              <!-- Text input-->
              <div class="form-group">
                <div class="col-md-6">
                  <input id="delivery-address-line2" ng-model="deliveryInfo.deliveryAddressLine2" name="delivery-address-line2" type="text" placeholder="Shipping Address Line 2" class="form-control input-md">
                </div>
              </div>

              <!-- Select Basic -->
              <div class="form-group">
                <div class="col-md-6">
                  <select ng-model="deliveryInfo.deliveryAddressCity" id="delivery-address-city" name="delivery-address-city" class="form-control" required>
                    <option value=''>- Please choose City -</option>
                    <option value="AKL">Akola</option>
                    <option value="PUN">Pune</option>
                    <option value="NAG">Nagpur</option>
                  </select>
                </div>
              </div>

              <!-- Select Basic -->
              <div class="form-group">
                <div class="col-md-6">
                  <select ng-model="deliveryInfo.deliveryAddressState" id="delivery-address-state" name="delivery-address-state" class="form-control" required>
                    <option value=''>- Please choose State -</option>
                    <option value="MAH">Maharashtra</option>
                  </select>
                </div>
              </div>

              <!-- Select Basic -->
              <div class="form-group">
                <div class="col-md-6">
                  <select ng-model="deliveryInfo.deliveryAddressCountry" id="delivery-address-country" name="delivery-address-country" class="form-control" required>
                    <option value=''>- Please choose Country -</option>
                    <option value="IN">India</option>
                  </select>
                </div>
              </div>

              <!-- Text input-->
              <div class="form-group">
                <div class="col-md-6">
                  <input ng-model="deliveryInfo.deliveryAddressPincode" name="deliveryAddressPincode" ng-required="true" ng-pattern="/^[0-9]{6,6}$/" ng-minlength="6" ng-maxlength="6" id="delivery-address-pincode" type="text" placeholder="Please enter Zipcode" class="form-control input-md" required="">
                  <span ng-show="shippingForm.deliveryAddressPincode.$error.pattern" class="help-block error">Please enter valid zipcode.</span>
                  <span ng-show="shippingForm.deliveryAddressPincode.$error.required && !shippingForm.deliveryAddressPincode.$pristine" class="help-block error">Field is required.</span>
                </div>
              </div>
              <div class="col-md-7 col-md-offset-1">
                <button type="submit" data-toggle="collapse" data-parent="#accordion" data-target="#collapseTwo" class="btn btn-primary" ng-disabled="shippingForm.$invalid">Proceed to Review Cart</button>
              </div>
            </fieldset>
          </form>
        </div>
      </div>
    </div>
    <div class="panel panel-default">
      <div class="panel-heading" role="tab" id="headingTwo">
        <h4 class="panel-title">
          <a class="collapsed" role="button" href="javascript:;" aria-expanded="false" aria-controls="collapseTwo">
            Review Cart and Shipping Option
          </a>
        </h4>
      </div>
      <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
        <div class="panel-body">
          <table class="table table-hover table-condensed cart-body">
            <tr class="well">
              <td class="col-md-8">PRODUCT</td>
              <td class="col-md-2">UNITS</td>
              <td class="col-md-2">SUBTOTAL</td>
            </tr>
            <tr ng-repeat="(productId, product) in products">
              <td class="col-md-8">
                <div class="col-md-4">
                  <a href="">
                    <img class="media-object" ng-src="/product/icon/{{productId}}" alt="64x64" data-holder-rendered="true" style="width: 64px; height: auto;">
                  </a>
                </div>

                <div class="col-md-8">
                  <p class="product-name"><a href="#/product/{{productId}}">{{product.name}}</a></p>
                  <p class="">{{product.quantity}} {{product.unit}} for {{product.price | currency : "&#8377;"}}</p>
                </div>
              </td>
              <td class="col-md-3">
                <p ng-form name="cartForm">
                  <input type="number" name="quantity" required min="1" max="10" ng-model="product.count" ng-init="product.count"/> x {{ product.quantity }} {{product.unit}}
                </p>
                <a href="" ng-click="removeItem(productId, product.count)">
                  <small>Delete</small>
                </a> |
                <a href="" ng-hide="cartForm.quantity.$invalid" ng-click = "updateItem(productId, product.count)">
                  <small>Update</small>
                </a>
              </td>
              <td class="col-md-2 product-price">{{product.price * product.count | currency : "&#8377;"}}</td>
            </tr>
            <tr>
              <td></td>
              <td>
                <div class="form-group">
                  <select class="form-control input-sm" ng-model="selectedShippingOption" ng-options="option.name for option in shippingOptions track by option.name" required></select>
                </div>
              </td>
              <td>
                <span id="shippingPrice" class="product-price">{{ selectedShippingOption.price | number:2 | currency : "&#8377;" }}</span>
              </td>
            </tr>
          </table>
          <div class="col-md-12 well cart-footer">
            <div>
              <h4><b>Total Price: </b> <span id="totalPrice" class="product-price">{{ products | getTotalPrice: selectedShippingOption.price | currency : "&#8377;" }}</span> </h4>
            </div>
            <div>
              <a href="javascript:;" type="button" class="btn btn-success" data-toggle="collapse" data-parent="#accordion" data-target="#collapseThree" ng-click="updateShippingOption(selectedShippingOption.value);">Proceed to Payment</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="panel panel-default">
      <div class="panel-heading" role="tab" id="headingThree">
        <h4 class="panel-title">
          <a role="button" href="javascript:;"  aria-expanded="true" aria-controls="collapseOne">
            Payment Information
          </a>
        </h4>
      </div>
      <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
        <div class="panel-body">
          <div>
            <!-- Nav tabs -->
            <ul class="nav nav-tabs" role="tablist">
              <!--li role="presentation"><a href="javascript:;" data-target="#cod" aria-controls="home" role="tab" data-toggle="tab">Cash on Delivery</a></li-->
              <li role="presentation" class="active"><a href="javascript:;" data-target="#cc" aria-controls="profile" role="tab" data-toggle="tab">Credit Card</a></li>
              <li role="presentation"><a href="javascript:;" data-target="#dc" aria-controls="messages" role="tab" data-toggle="tab">Debit Card</a></li>
            </ul>

            <!-- Tab panes -->
            <div class="tab-content">
              <!--div role="tabpanel" class="tab-pane fade" id="cod">Cash of delivery</div-->
              <div role="tabpanel" class="tab-pane fade active in" id="cc">
                <div class="row">
                  <div class="col-md-offset-1">
                    <p><span><h5>Please enter <mark>Credit Card</mark> info to complete the order!</h5></span></p><br/>
                    <form class="form-horizontal" name="ccForm" ng-submit="submitOrder()" novalidate>
                      <fieldset>
                        <input type=hidden ng-model="paymentInfo.type" ng-init="paymentInfo.type='2'" value="2"/>
                        <div class="form-group">
                          <div class="col-md-6">
                            <input placeholder="Enter Credit Card Number" type="text" class="form-control input-md input-block-level" name="number" ng-model="paymentInfo.number" payments-validate="card" payments-format="card" payments-type-model="type" ng-class="ccForm.number.$card.type" required/>
                          </div>
                        </div>

                        <div class="form-group">
                          <div class="col-md-6">
                            <input placeholder="Expiry of Card: MM/YYYY" type="text" class="form-control input-md input-block-level" ng-model="paymentInfo.expiry" payments-validate="expiry" payments-format="expiry" required/>
                          </div>
                        </div>

                        <div class="form-group">
                          <div class="col-md-6">
                            <input placeholder="Carholder Person Name" type="text" class="form-control input-md input-block-level" ng-model="paymentInfo.name" required/>
                          </div>
                        </div>

                        <div class="form-group">
                          <div class="col-md-6">
                            <input placeholder="CVC Code" type="text" class="form-control input-md input-block-level" ng-model="paymentInfo.cvc" payments-validate="cvc" payments-format="cvc" payments-type-model="type" required/>
                          </div>
                        </div>

                        <!-- Text input-->
                        <div class="form-group">
                          <div class="col-md-6">
                            <input id="billing-address-line1" name="billingAddressLine1" ng-model="paymentInfo.billingAddressLine1" ng-required="true" ng-minlength="5" ng-maxlength="30" type="text" placeholder="Billing Address Line 1" class="form-control input-md" required="">
                            <span ng-show="ccForm.billingAddressLine1.$error.minlength" class="help-block error">Address line is too short.</span>
                            <span ng-show="ccForm.billingAddressLine1.$error.maxlength" class="help-block error">Address line is too long.</span>
                            <span ng-show="ccForm.billingAddressLine1.$error.required && !ccForm.billingAddressLine1.$pristine" class="help-block error">Field is required.</span>
                          </div>
                        </div>

                        <!-- Text input-->
                        <div class="form-group">
                          <div class="col-md-6">
                            <input id="billing-address-line2" ng-model="paymentInfo.billingAddressLine2" name="billingAddressLine2" type="text" placeholder="Billing Address Line 2" class="form-control input-md">
                          </div>
                        </div>

                        <!-- Select Basic -->
                        <div class="form-group">
                          <div class="col-md-6">
                            <select ng-model="paymentInfo.billingAddressCity" id="billing-address-city" name="billing-address-city" class="form-control" required>
                              <option value=''>- Please choose City -</option>
                              <option value="AKL">Akola</option>
                              <option value="PUN">Pune</option>
                              <option value="NAG">Nagpur</option>
                            </select>
                            <select ng-model="paymentInfo.billingAddressState" id="billing-address-state" name="billing-address-state" class="form-control" required>
                              <option value=''>- Please choose State -</option>
                              <option value="MAH">Maharashtra</option>
                            </select>
                            <select ng-model="paymentInfo.billingAddressCountry" id="billing-address-country" name="billing-address-country" class="form-control" required>
                              <option value=''>- Please choose Country -</option>
                              <option value="IN">India</option>
                            </select>
                          </div>
                        </div>
                        <!-- Text input-->
                        <div class="form-group">
                          <div class="col-md-6">
                            <input ng-model="paymentInfo.billingAddressPincode" name="billingAddressPincode" ng-required="true" ng-pattern="/^[0-9]{6,6}$/" ng-minlength="6" ng-maxlength="6" id="billing-address-pincode" type="text" placeholder="Please enter Zipcode" class="form-control input-md" required="">
                            <span ng-show="ccForm.billingAddressPincode.$error.pattern" class="help-block error">Please enter valid zipcode.</span>
                            <span ng-show="ccForm.billingAddressPincode.$error.required && !ccForm.billingAddressPincode.$pristine" class="help-block error">Field is required.</span>
                          </div>
                        </div>

                        <div class="form-group">
                          <div class="col-xs-5 col-xs-offset-2">
                            <button type="submit" class="btn btn-primary btn-large" ng-disabled="ccForm.$invalid">Place Order!</button>
                          </div>
                        </div>

                      </fieldset>
                    </form>
                  </div>
                </div>
              </div>
              <div role="tabpanel" class="tab-pane fade" id="dc">
                <div class="row">
                  <div class="col-md-offset-1">
                    <p><span><h5>Please enter <mark>Debit Card</mark> info to complete the order!</h5></span></p><br/>
                    <form class="form-horizontal" name="dcForm" ng-submit="submitOrder()" novalidate>
                      <fieldset>
                        <input type=hidden ng-model="paymentInfo.type" ng-init="paymentInfo.type='3'" value="3"/>
                        <div class="form-group">
                          <div class="col-md-6">
                            <input placeholder="Enter Debit Card Number" type="text" class="form-control input-md input-block-level" name="paymentInfo.number" ng-model="paymentInfo.number" payments-validate="card" payments-format="card" payments-type-model="type" ng-class="dcForm.paymentInfo.number.$card.type" required/>
                          </div>
                        </div>

                        <div class="form-group">
                          <div class="col-md-6">
                            <input placeholder="Expiry of Card: MM/YYYY" type="text" class="form-control input-md input-block-level" ng-model="paymentInfo.expiry" payments-validate="expiry" payments-format="expiry" required/>
                          </div>
                        </div>

                        <div class="form-group">
                          <div class="col-md-6">
                            <input placeholder="Carholder Person Name" type="text" ng-model="paymentInfo.name" class="form-control input-md input-block-level" required/>
                          </div>
                        </div>

                        <div class="form-group">
                          <div class="col-md-6">
                            <input placeholder="CVC Code" type="text" class="form-control input-md input-block-level" ng-model="paymentInfo.cvc" payments-validate="cvc" payments-format="cvc" payments-type-model="type" required/>
                          </div>
                        </div>

                        <div class="form-group">
                          <div class="col-xs-6 col-xs-offset-2">
                            <button type="submit" class="btn btn-primary btn-large" ng-disabled="dcForm.$invalid">Place Order!</button>
                          </div>
                        </div>
                      </fieldset>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="col-md-4">
  <li class="list-group-item list-group-item-danger" ng-hide="shippingForm.$invalid">
    <h4><b><p class="text-center">Order Summary</p></b></h4>
  </li>
  <ul class="list-group">
    <li class="list-group-item list-group-item-success" ng-hide="shippingForm.$invalid">
      <address>
        <h4>Delivery Address</h4>
        <strong>{{deliveryInfo.deliveryForPersonFname}} {{deliveryInfo.deliveryForPersonLname}}</strong><br/>
        {{deliveryInfo.deliveryAddressLine1}} {{deliveryInfo.deliveryAddressLine2}} <br/>
        {{deliveryInfo.deliveryAddressCity}}, {{deliveryInfo.deliveryAddressState}} - {{deliveryInfo.deliveryAddressPincode}} <br/>
        {{deliveryInfo.deliveryAddressCountry}}
      </address>
    </li>
    <li class="list-group-item list-group-item-info" ng-show="showPriceInfo">
      <h4>Price Info</h4>
      <h5>Cart Price: <span class="pull-right">{{ products | getTotalPrice: 0 | currency : "&#8377;" }}</span></h5>
      <h5>Shipping Price: <span class="pull-right">{{ selectedShippingOption.price | currency : "&#8377;" }}</span></h5>
      <h4><b>Total Order Price: <span class="pull-right">{{ products | getTotalPrice: selectedShippingOption.price | currency : "&#8377;" }}</span></b></h4>
    </li>
    <li class="list-group-item list-group-item-warning" ng-hide="ccForm.$invalid">
      <address>
        <h4>Billing Address</h4>
        <strong>{{paymentInfo.name}}</strong><br/>
        {{paymentInfo.billingAddressLine1}} {{paymentInfo.billingAddressLine2}} <br/>
        {{paymentInfo.billingAddressCity}}, {{paymentInfo.billingAddressState}} - {{paymentInfo.billingAddressPincode}} <br/>
        {{paymentInfo.billingAddressCountry}}
      </address>
    </li>
  </ul>
</div>
